#!/usr/bin/env node

var fs = require('fs');
var chalk = require('chalk');
var log = console.log;

/**
 * 判断对象是否为空
 */
function _objIsEmpty(obj) {
	for (var i in obj) {
		return false;
	}
	return true;
}


fs.readFile('./package.json', function(err, data) {
	log('');
	if (err) {
		log(chalk.red('no package.json was found.'));
		log('');
		return;
	}
	var _settings = JSON.parse(data.toString()).scripts;
	if (_objIsEmpty(_settings)) {
		log(chalk.yellow('no script is available'));
		return;
	}
	log(chalk.yellow('scripts available:'));
	for (var i in _settings) {
		log('    ' + chalk.blue(i + ': ') + chalk.green(_settings[i]));
	}
	log('');
});